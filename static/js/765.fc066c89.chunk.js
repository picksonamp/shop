"use strict";(self.webpackChunkshop=self.webpackChunkshop||[]).push([[765],{1765:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var s=r(5043),n=r(2298);const i="card_product_card__tePeH",a="card_product_card_image_container__wE25V",o="card_product_card_content__ZYA1g",c="card_product_card_title__-pDqf",l="card_card_footer__3HjZ+",d="card_product_card_price__k-mWt",u="card_purchase_button_add__+spF2";var h=r(3216),_=Object.defineProperty,g=(e,t,r)=>((e,t,r)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!==typeof t?t+"":t,r),p=new Map,m=new WeakMap,f=0,y=void 0;function v(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(r=e.root,r?(m.has(r)||(f+=1,m.set(r,f.toString())),m.get(r)):"0"):e[t]}`;var r})).toString()}function b(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;if("undefined"===typeof window.IntersectionObserver&&void 0!==s){const n=e.getBoundingClientRect();return t(s,{isIntersecting:s,target:e,intersectionRatio:"number"===typeof r.threshold?r.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),()=>{}}const{id:n,observer:i,elements:a}=function(e){const t=v(e);let r=p.get(t);if(!r){const s=new Map;let n;const i=new IntersectionObserver((t=>{t.forEach((t=>{var r;const i=t.isIntersecting&&n.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=i),null==(r=s.get(t.target))||r.forEach((e=>{e(i,t)}))}))}),e);n=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:s},p.set(t,r)}return r}(r),o=a.get(e)||[];return a.has(e)||a.set(e,o),o.push(t),i.observe(e),function(){o.splice(o.indexOf(t),1),0===o.length&&(a.delete(e),i.unobserve(e)),0===a.size&&(i.disconnect(),p.delete(n))}}s.Component;const x=s.createContext({}),j=!0;function C(e){let{baseColor:t,highlightColor:r,width:s,height:n,borderRadius:i,circle:a,direction:o,duration:c,enableAnimation:l=j,customHighlightBackground:d}=e;const u={};return"rtl"===o&&(u["--animation-direction"]="reverse"),"number"===typeof c&&(u["--animation-duration"]=`${c}s`),l||(u["--pseudo-element-display"]="none"),"string"!==typeof s&&"number"!==typeof s||(u.width=s),"string"!==typeof n&&"number"!==typeof n||(u.height=n),"string"!==typeof i&&"number"!==typeof i||(u.borderRadius=i),a&&(u.borderRadius="50%"),"undefined"!==typeof t&&(u["--base-color"]=t),"undefined"!==typeof r&&(u["--highlight-color"]=r),"string"===typeof d&&(u["--custom-highlight-background"]=d),u}function k(e){let{count:t=1,wrapper:r,className:n,containerClassName:i,containerTestId:a,circle:o=!1,style:c,...l}=e;var d,u,h;const _=s.useContext(x),g={...l};for(const[s,x]of Object.entries(l))"undefined"===typeof x&&delete g[s];const p={..._,...g,circle:o},m={...c,...C(p)};let f="react-loading-skeleton";n&&(f+=` ${n}`);const y=null!==(d=p.inline)&&void 0!==d&&d,v=[],b=Math.ceil(t);for(let x=0;x<b;x++){let e=m;if(b>t&&x===b-1){const r=null!==(u=e.width)&&void 0!==u?u:"100%",s=t%1,n="number"===typeof r?r*s:`calc(${r} * ${s})`;e={...e,width:n}}const r=s.createElement("span",{className:f,style:e,key:x},"\u200c");y?v.push(r):v.push(s.createElement(s.Fragment,{key:x},r,s.createElement("br",null)))}return s.createElement("span",{className:i,"data-testid":a,"aria-live":"polite","aria-busy":null!==(h=p.enableAnimation)&&void 0!==h?h:j},r?v.map(((e,t)=>s.createElement(r,{key:t},e))):v)}const w="SkeletonCardStyle_skeleton_card__1rK4I",N="SkeletonCardStyle_skeleton_card_image_container__KbFOH",S="SkeletonCardStyle_skeleton_card_content__rv-PK",V="SkeletonCardStyle_skeleton_card_title__Ch0Qp";var A=r(579);const L=()=>(0,A.jsxs)("div",{className:w,children:[(0,A.jsx)("div",{className:N,children:(0,A.jsx)(k,{height:250,width:250})}),(0,A.jsxs)("div",{className:S,children:[(0,A.jsx)(k,{className:V}),(0,A.jsx)(k,{className:V})]})]}),R=e=>{let{id:t,title:r,price:_,description:g,image:p,category:m}=e;const f=(0,s.useContext)(n.A),{ref:y,inView:v}=function(){let{threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:i,triggerOnce:a,skip:o,initialInView:c,fallbackInView:l,onChange:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var u;const[h,_]=s.useState(null),g=s.useRef(),[p,m]=s.useState({inView:!!c,entry:void 0});g.current=d,s.useEffect((()=>{if(o||!h)return;let s;return s=b(h,((e,t)=>{m({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&a&&s&&(s(),s=void 0)}),{root:i,rootMargin:n,threshold:e,trackVisibility:r,delay:t},l),()=>{s&&s()}}),[Array.isArray(e)?e.toString():e,h,i,n,a,o,r,l,t]);const f=null==(u=p.entry)?void 0:u.target,y=s.useRef();h||!f||a||o||y.current===f||(y.current=f,m({inView:!!c,entry:void 0}));const v=[_,p.inView,p.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}({triggerOnce:!0,threshold:.2}),x=(0,h.Zp)(),[j,C]=s.useState("style.purchase_button_add"),[k,w]=s.useState("Buy");return(0,A.jsx)("div",{ref:y,children:v?(0,A.jsxs)("div",{className:i,id:String(t),children:[(0,A.jsx)("div",{className:a,children:(0,A.jsx)("img",{src:p,loading:"lazy",alt:"Product Image"})}),(0,A.jsxs)("div",{className:o,children:[(0,A.jsx)("div",{className:c,children:r}),(0,A.jsxs)("div",{className:l,children:[(0,A.jsx)("div",{className:d,children:_+"$"}),(0,A.jsx)("button",{className:u,onClick:()=>{f.setCurrentProduct({category:m,description:g,id:t,image:p,price:_,title:r}),window.scrollTo({top:0,behavior:"auto"}),x("/full_card")},children:k})]})]})]}):(0,A.jsx)(L,{})})},E="searchField_form_container__U2T3+",I="searchField_search_field__GiSc7",O="searchField_search_ico__K0xxy",$=e=>{let{search:t,setSearch:r}=e;(0,s.useContext)(n.A);return(0,A.jsx)("div",{className:E,children:(0,A.jsxs)("form",{onSubmit:e=>{e.preventDefault()},children:[(0,A.jsx)("input",{className:I,type:"text",placeholder:"Search...",value:t,onChange:e=>r(e.target.value),onClick:e=>r("")}),(0,A.jsx)("img",{className:O,src:"https://i7.uihere.com/icons/805/425/292/cx-6239a19d5332d5b6eb5d8056dc178ad4.png"})]})})},F="categoriesList_categories__xL8RD",M="categoriesList_checked_category__Q8T8V",B=e=>{let{category:t,setCategory:r,categories:s,setCategories:n}=e;const i=e=>{r(e.currentTarget.className)},a=e=>e&&0!==e.length?e[0].toUpperCase()+e.slice(1):e;return(0,A.jsxs)("div",{className:F,children:[(0,A.jsx)("h3",{children:"\u0412\u044b\u0431\u0440\u0430\u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:"}),(0,A.jsx)("h3",{className:M,children:t?a(t):"All"}),(0,A.jsx)("hr",{}),(0,A.jsx)("div",{onClick:()=>r(""),children:"All"}),s.map(((e,t)=>(0,A.jsx)("div",{className:e,onClick:i,children:a(e)},t)))]})},P={cards_container:"Cards_cards_container__G7u9B",side_bar:"Cards_side_bar__JCo8U",cards:"Cards_cards__tk0ov"};function T(){const e=(0,s.useContext)(n.A),[t,r]=s.useState(!0),[i,a]=s.useState(""),[o,c]=s.useState([""]),[l,d]=s.useState("");return s.useEffect((()=>{fetch("https://fakestoreapi.com/products/categories").then((e=>e.json())).then((e=>c(e))).finally((()=>r(!1)))}),[]),(0,A.jsxs)("div",{className:P.cards_container,children:[(0,A.jsxs)("div",{className:P.side_bar,children:[(0,A.jsx)($,{search:i,setSearch:a}),(0,A.jsx)(B,{categories:o,setCategories:c,category:l,setCategory:d})]}),(0,A.jsx)("div",{className:P.cards,children:t?Array(4).fill("").map((e=>(0,A.jsx)(L,{},e))):e.products.filter((e=>e.title.toLocaleLowerCase().includes(i.toLocaleLowerCase()))).filter((e=>e.category.toLocaleLowerCase().includes(l.toLocaleLowerCase()))).map((e=>(0,A.jsx)(R,{...e},e.id)))})]})}}}]);
//# sourceMappingURL=765.fc066c89.chunk.js.map